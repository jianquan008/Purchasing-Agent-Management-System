# 功能详细说明

## 1. 用户权限管理

### 角色类型
- **管理员 (admin)**: 拥有所有功能权限
  - 用户管理：创建、编辑、删除用户
  - 数据录入：上传收据、编辑识别结果
  - 库存管理：修改库存数量和价格
  - 数据查看：查看所有历史记录和统计

- **普通用户 (user)**: 只读权限
  - 数据查看：查看库存、历史单据
  - 无法修改任何数据

### 权限控制
- 基于JWT令牌的身份认证
- 前端路由级别的权限控制
- 后端API接口权限验证
- 敏感操作需要管理员权限

## 2. 收据识别功能

### 支持的收据类型
- 手写收据
- 机打收据
- 支持图片格式：JPG, PNG, GIF
- 最大文件大小：10MB

### OCR识别能力
- 使用Tesseract.js引擎
- 支持中英文混合识别
- 自动解析商品信息：
  - 商品名称
  - 单价
  - 数量
  - 总价

### 数据编辑功能
- 识别结果可手动编辑
- 支持添加/删除商品项目
- 自动计算总价
- 数据验证和格式检查

### 数据保存
- 保存原始收据图片
- 存储OCR识别文本
- 保存编辑后的结构化数据
- 自动更新库存信息

## 3. 库存管理

### 库存信息
- 商品名称
- 当前库存数量
- 单价信息
- 库存总价值
- 最后更新时间

### 库存操作 (仅管理员)
- 修改库存数量
- 更新商品单价
- 删除库存项目
- 库存预警 (低于10件显示红色)

### 自动库存更新
- 收据保存时自动增加库存
- 支持同名商品合并
- 价格自动更新为最新价格

### 库存统计
- 总商品种类数
- 总库存数量
- 库存总价值
- 实时统计更新

## 4. 历史单据查看

### 单据列表
- 显示所有历史收据
- 包含录入人信息
- 显示总金额和创建时间
- 支持分页和搜索

### 单据详情
- 查看原始收据图片
- 显示完整商品明细
- 包含录入人和时间信息
- 支持打印和导出

### 数据追溯
- 完整的操作记录
- 数据修改历史
- 用户操作日志

## 5. 系统特性

### 响应式设计
- 支持桌面端和移动端
- 自适应屏幕尺寸
- 触摸友好的界面

### 数据安全
- JWT身份认证
- 密码加密存储
- 文件上传安全检查
- SQL注入防护

### 性能优化
- 图片压缩和优化
- 数据库索引优化
- 前端代码分割
- API响应缓存

### 用户体验
- 直观的操作界面
- 实时反馈和提示
- 错误处理和恢复
- 快捷键支持

## 6. 扩展功能

### 可扩展性
- 模块化架构设计
- 插件式功能扩展
- 多数据库支持
- 微服务架构兼容

### 未来规划
- 批量导入/导出
- 高级报表功能
- 移动端APP
- 云端同步
- 多语言支持
- 供应商管理
- 销售管理
- 财务报表